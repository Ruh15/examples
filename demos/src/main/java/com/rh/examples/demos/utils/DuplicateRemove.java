package com.rh.examples.demos.utils;

import com.alibaba.fastjson.JSON;

import java.util.Arrays;
import java.util.HashSet;
import java.util.Set;

/**
 * @author hui
 * @desc
 * @date 2020/5/8
 */
public class DuplicateRemove {

    public static void main(String[] args) {
        String str1 = "180424540400002,180512540400025,180524540400460,181129540400036,190212540400022,190215540400099,191211540000202,200219540000013,200220540000008,200222540000012,200223540000014,200226540000016,200226540000021,200226540000029,200227540000015,200227540000016,200227540000023,200227540000025,200227540000064,200228540000003,200228540000009,200228540000020,200228540000022,200228540000033,200229540000023,200301540000002,200301540000010,200302540000013,200302540001797,200302540001846,200303540000014,200303540000017,200303540000026,200303540000343,200304540000004,200304540000020,200304540000025,200304540000026,200304540000039,200304540000089,200305540000003,200305540000022,200305540000059,200305540000302,200305540000381,200306540000004,200306540000045,200306540000061,200306540000062,200306540000170,200306540000171,200308540000049,200308540000548,200309540000004,200309540000030,200309540000303,200310540000021,200310540000051,200310540000074,200312540000103,200313540000121,200316540000083,200317540000001,200319540000054,200326540000044,200326540000085,200329540000048,200330540000218,200330540000237,200331540000164,200403540000076,200407540000058,200409540000400,200410540000081,200414540000257,200416540000106,200416540000112";
        String str2 = "200216540000021,200219540000013,200219540000038,200220540000008,200220540000020,200222540000002,200222540000012,200223540000014,200224540000018,200226540000016,200226540000021,200226540000029,200226540000045,200226540000047,200227540000015,200227540000016,200227540000023,200227540000025,200227540000064,200228540000003,200228540000009,200228540000019,200228540000020,200228540000022,200228540000033,200229540000023,200301540000002,200301540000010,200301540000021,200302540000013,200302540000021,200302540001096,200302540001478,200302540001797,200302540001845,200302540001846,200303540000014,200303540000017,200303540000026,200303540000343,200304540000004,200304540000005,200304540000020,200304540000025,200304540000026,200304540000036,200304540000039,200304540000089,200305540000003,200305540000022,200305540000059,200305540000302,200305540000381,200306540000004,200306540000010,200306540000061,200306540000062,200306540000170,200306540000171,200307540000015,200307540000017,200307540000020,200307540000024,200307540000028,200307540000039,200308540000049,200308540000541,200308540000543,200308540000544,200308540000548,200308540000585,200308540000586,200308540000648,200309540000004,200309540000030,200309540000303,200310540000021,200310540000051,200310540000074,200310540000080,200310540000100,200311540000018,200311540000079,200311540000095,200312540000011,200312540000103,200313540000004,200313540000018,200313540000043,200313540000054,200313540000057,200313540000121,200315540000011,200315540000082,200315540000095,200316540000041,200316540000073,200316540000083,200316540000611,200317540000001,200317540000021,200317540000037,200317540000087,200317540000105,200318540000125,200318540000127,190215540400099,191211540000202,190212540400022,180512540400025,200319540000039,200319540000054,200319540000075,200319540000161,200319540000175,200319540000195,200320540000123,200320540000125,200320540000164,200320540000167,200321540000023,200321540000050,200321540000069,200322540000014,200322540000023,200322540000112,200323540000017,200323540000043,200323540000141,200324540000039,200324540000164,200324540000219,200325540000016,200325540000056,200325540000110,200325540000424,200325540000465,200326540000044,200326540000085,200326540000086,200326540000094,200326540000099,200326540000141,200326540000168,200326540000189,200327540000080,200327540000162,200327540000199,200328540000001,200328540000008,200328540000018,200328540000019,200328540000029,200328540000034,200328540000062,200328540000093,200328540000096,200329540000020,200329540000048,200330540000062,200330540000068,200330540000104,200330540000112,200330540000218,200330540000221,200330540000222,200330540000227,200330540000237,200330540000287,200331540000024,200331540000033,200331540000105,200331540000164,200331540000172,200331540000193,200401540000097,200401540000101,200401540000102,200401540000126,200402540000358,200402540000375,200402540000412,200402540000415,200403540000076,200407540000058,200407540000227,200408540000012,200409540000030,200409540000400,200409540000446,200409540000500,200410540000071,200410540000081,200410540000082,200411540000005,200411540000025,200411540000119,200413540000172,200413540000183,200414540000057,200414540000167,200414540000216,200414540000250,200414540000257,200415540000030,200415540000090,200415540000222,200415540000228,200416540000002,200416540000003,200416540000004,200416540000005,200416540000077,200416540000096,200416540000106,200416540000112,200416540000133,200416540000165,200416540000189,200306540000045,181129540400036,180424540400002,180524540400460";
        removeDuplicateBySet(str1, str2);
    }

    /**
     * 从 str2 中删除 跟 str1 中重复的数据
     * @param str1 比对的数据
     * @param str2 需要去重的 数据
     */
    public static void removeDuplicateBySet(String str1, String str2) {
        Set<String> set = new HashSet<>();
        String[] split = str1.split(",");
        String[] split2 = str2.split(",");
        set.addAll(Arrays.asList(split));
        set.addAll(Arrays.asList(split2));
        set.removeAll(Arrays.asList(split));

        System.out.println(set.size());
        System.out.println(JSON.toJSONString(set));
    }
}
